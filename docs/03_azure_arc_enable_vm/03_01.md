---
title: '1. Enable Azure Arc on Windows VM'
layout: default
nav_order: 1
parent: 'Exercise 03: Azure Arc-enable on-premises VM'
---

# Task 01 - Enable Azure Arc on Windows VM

## Introduction

Tailspin Toys has certain Windows servers that must continue running on‑premises to support workloads that cannot be fully migrated to the cloud. At the same time, they want to take advantage of Azure's centralized management, security, and compliance capabilities. By connecting their on‑premises Windows VM to Azure using Azure Arc, Tailspin can extend Azure's governance and monitoring tools to their local environment.

## Description

In this task, you will use the Azure Arc Setup wizard directly on the Windows VM to establish that connection, enabling the server to be managed as if it were a native Azure resource.

The key tasks are as follows:

1. Run the Azure Arc Setup wizard from the Windows VM
2. Verify the Windows server is available in Azure Arc

## Success Criteria

- The Windows VM is successfully Arc‑enabled
- The Windows VM is accessible through Azure Arc in the Azure portal

## Solution



1. In the Azure Portal, navigate to your lab resource group and select the `tailspin<uniqueid>-onprem-win-vm` virtual machine from the list of resources.

    ![The Virtual machine pane for the Simulated on-premises Windows Server VM is shown in the Azure Portal.](../../Hands-on%20lab/images/azure-portal-onpre-win-vm.png)

2. Select **Bastion** under **Connect** in the left navigation menu, and on the Bastion blade, enter the following username and password, ensure **Open in a new browser window** is checked, then select **Connect**.

    - **Username**: `demouser`
    - **Password**: `demo!pass123`

    TODO: Update screenshot for Windows VM

    ![The Bastion pane of the tailspin-onprem-sql-vm Virtual machine is shown with the Username and Password fields entered and highlighted.](../../Hands-on%20lab/images/sql-vm-connect-bastion.png)

3. If prompted to allow the browser to "see text and images copied to the clipboard," select **Allow**.

    ![The allow button in the see text and images copied to the clipboard dialog is highlighted.](../../Hands-on%20lab/images/bastion-allow-clipboard.png)

4. Once logged in, select the Azure Arc system tray icon, then select **Launch Azure Arc Setup**.

    TODO: Screenshot

5. The introduction window of the Azure Arc Setup wizard explains the benefits of onboarding your machine to Azure Arc. When you're ready to proceed, select **Next**.

6. The wizard automatically checks for the prerequisites necessary to install the Azure Connected Machine agent on your Windows Server machine. Once this process completes and the agent is installed, select **Configure**.

7. The configuration window details the steps required to configure the Azure Connected Machine agent. When you're ready to begin configuration, select Next.

8. Sign-in to Azure by selecting the applicable Azure cloud, and then selecting Sign in to Azure. You'll be asked to provide your sign-in credentials.

9. Provide the resource details of how your machine will work within Azure Arc, such as the Subscription and Resource group, and then select Next.

10. Once the configuration completes and your machine is onboarded to Azure Arc, select Finish.

11. Go to the Server Manager and select Local Server to view the status of the machine in the Azure Arc Management field. A successfully onboarded machine has a status of Enabled.

12. The Azure Arc system tray icon at the bottom of your Windows Server machine indicates if the machine is connected to Azure Arc; a red symbol means the machine does not have the Azure Connected Machine agent installed. To view a connected machine in Azure Arc, select the icon and then select View Machine in Azure. You can then view the machine in the Azure portal, just as you would other Azure Arc-enabled resources.

TODO: Make sure this lads on the right page in the portal, and end this task.

<details markdown="block">
<summary>Expand this section to view the solution</summary>

TODO: Rewrap the solution with this.

</details>
